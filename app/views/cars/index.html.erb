<div class="index-container ">
<div class="row test-3">

    <%# =============================== %>
    <%# MA PARTIE GAUCHE %>
    <%# =============================== %>


    <div class="cards-wrapper col-6  mt-2 mb-2 overflow-auto" style="max-height: 1000px;" id="test4">

      <div class="row m-3 d-flex justify-content-center align-items-center lg-screen-center ">
        <div class="col-sm-8 my-3">
          <%= form_with url: cars_path, method: :get, class: "d-flex" do %>
            <%= text_field_tag :query,
                  params[:query],
                  class: "form-control p-2 border border-secondary-subtle rounded-start-pill",
                  placeholder: "Search on city"
              %>
            <%= submit_tag "Search", name: "", class: "btn border border-dark-subtle rounded-end-circle p-2 ms-1" %>
          <% end %>
        </div>
      </div>


      <div class="d-flex flex-wrap">
        <div class="row mx-3 d-flex justify-content-center align-items-center lg-screen-center">
          <% @cars.each do |car| %>

            <div class="card mb-3 rounded-4 ms-2 me-2 col-6" style="width: 20rem; height: 21rem; background-color: #fff;">
              <div class="card-body d-flex flex-column justify-content-center align-items-center">
                <img src=" <%= car.photo_url  %> " alt="Vintage Car" style="width: 200px; border-radius: 10px;">
                <h5 class="mt-1 fw-bold"><%= car.brand %></h5>
                <div class=" d-flex flex-column justify-content-center align-items-start">
                    <p><strong class="me-1">City:</strong><%= car.city %></p>
                    <p><strong class="me-1">€<%= car.price.round %></strong>per day </p>

            <div class="card mb-3 rounded-4 ms-2 me-2 col-6" style="width: 20rem; height: 22rem; background-color: #fff;">
              <div class="card-body d-flex flex-column justify-content-evenly align-items-center">
                <%= cl_image_tag car.photo.key,  alt:"Vintage Car", style:"width: 250px; border-radius: 10px;" %>
                <h5 class="mt-2 fw-bold"><%= car.brand %></h5>
                <div class="d-flex justify-content-evenly align-items-center p-2">
                  <div class="me-2">
                    <p><strong class="me-2">City:</strong><%= car.city %></p>
                  </div>
                  <div class="ms-2 d-flex align-items-center justify-content-center">
                    <p><strong>€<%= car.price.round %></strong> </p>
                    <p class="ms-1">per day</p>
                  </div>
                </div>
                <%= link_to "Find out more", car_path(car), class: "car-info-btn" %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <%# =============================== %>
    <%# MA PARTIE DROITE %>
    <%# =============================== %>
  <div class="col-6  col-md-1 mt-1" id="test5"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>" style="flex: 1; height: 1000px;" >
  </div>
</div>



</div>
